<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thesis Degrader Dashboard - AI Portfolio Intelligence</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="logo">Thesis Degrader</h1>
                <span class="tagline">AI Portfolio Intelligence</span>
            </div>
            <div class="header-center">
                <div class="portfolio-stats">
                    <div class="stat">
                        <span class="stat-label">Portfolio Value</span>
                        <span class="stat-value">$801.2M</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Daily P&L</span>
                        <span class="stat-value positive">+$6.3M (+0.79%)</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Positions</span>
                        <span class="stat-value">28</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">At Risk</span>
                        <span class="stat-value warning">4</span>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <button class="notification-btn">
                    <span class="notification-badge">5</span>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 2C6.686 2 4 4.686 4 8V13L2 15V16H18V15L16 13V8C16 4.686 13.314 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                        <path d="M8.5 17C8.5 17.828 9.172 18.5 10 18.5C10.828 18.5 11.5 17.828 11.5 17" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </button>
                <button class="settings-btn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12Z" stroke="currentColor" stroke-width="2"/>
                        <path d="M16 10C16 10.36 15.96 10.71 15.89 11.05L17.65 12.48C17.81 12.61 17.85 12.85 17.73 13.04L16.03 15.96C15.92 16.15 15.68 16.22 15.48 16.15L13.4 15.32C12.97 15.64 12.5 15.91 12 16.1L11.65 18.32C11.62 18.53 11.43 18.7 11.2 18.7H7.8C7.57 18.7 7.38 18.53 7.35 18.32L7 16.1C6.5 15.91 6.03 15.65 5.6 15.32L3.52 16.15C3.32 16.22 3.08 16.15 2.97 15.96L1.27 13.04C1.15 12.85 1.19 12.61 1.35 12.48L3.11 11.05C3.04 10.71 3 10.36 3 10C3 9.64 3.04 9.29 3.11 8.95L1.35 7.52C1.19 7.39 1.15 7.15 1.27 6.96L2.97 4.04C3.08 3.85 3.32 3.78 3.52 3.85L5.6 4.68C6.03 4.36 6.5 4.09 7 3.9L7.35 1.68C7.38 1.47 7.57 1.3 7.8 1.3H11.2C11.43 1.3 11.62 1.47 11.65 1.68L12 3.9C12.5 4.09 12.97 4.35 13.4 4.68L15.48 3.85C15.68 3.78 15.92 3.85 16.03 4.04L17.73 6.96C17.85 7.15 17.81 7.39 17.65 7.52L15.89 8.95C15.96 9.29 16 9.64 16 10Z" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Navigation -->
        <nav class="main-nav">
            <button class="nav-item active" data-view="positions">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <rect x="1" y="1" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                    <rect x="9" y="1" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                    <rect x="1" y="9" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                    <rect x="9" y="9" width="6" height="6" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                Positions
            </button>
            <button class="nav-item" data-view="alerts">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M8 1L1 14H15L8 1Z" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M8 6V9" stroke="currentColor" stroke-width="1.5"/>
                    <circle cx="8" cy="11.5" r="0.5" fill="currentColor"/>
                </svg>
                Alerts
            </button>
            <button class="nav-item" data-view="actions">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M2 8H14M14 8L11 5M14 8L11 11" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                Actions
            </button>
            <button class="nav-item" data-view="monitoring">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M1 8H4L6 3L8 13L10 8H15" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                Monitoring
            </button>
            <button class="nav-item" data-view="heatmap">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <rect x="1" y="1" width="14" height="14" stroke="currentColor" stroke-width="1.5"/>
                    <rect x="3" y="3" width="4" height="4" fill="currentColor" opacity="0.3"/>
                    <rect x="9" y="3" width="4" height="4" fill="currentColor" opacity="0.6"/>
                    <rect x="3" y="9" width="4" height="4" fill="currentColor" opacity="0.9"/>
                    <rect x="9" y="9" width="4" height="4" fill="currentColor" opacity="0.1"/>
                </svg>
                Heatmap
            </button>
            <button class="nav-item" data-view="daily-summary">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <rect x="2" y="2" width="12" height="12" stroke="currentColor" stroke-width="1.5" rx="2"/>
                    <path d="M5 6h6M5 8h6M5 10h4" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                Daily Summary
            </button>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Positions View -->
            <div id="positions-view" class="view active">
                <div class="view-header">
                    <h2>Portfolio Positions</h2>
                    <div class="view-controls">
                        <div class="filter-group">
                            <button class="filter-btn active" data-filter="all">All</button>
                            <button class="filter-btn" data-filter="at-risk">At Risk</button>
                            <button class="filter-btn" data-filter="degrading">Degrading</button>
                            <button class="filter-btn" data-filter="healthy">Healthy</button>
                        </div>
                        <button class="btn-primary" id="addPositionBtn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M8 2V14M2 8H14" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            Add Position
                        </button>
                    </div>
                </div>
                <div class="positions-grid" id="positionsGrid">
                    <!-- Position cards will be dynamically inserted here -->
                </div>
            </div>

            <!-- Alerts View -->
            <div id="alerts-view" class="view">
                <div class="view-header">
                    <h2>Real-Time Alerts</h2>
                    <div class="alert-stats">
                        <span class="alert-stat critical">3 Critical</span>
                        <span class="alert-stat warning">7 Warnings</span>
                        <span class="alert-stat info">12 Info</span>
                    </div>
                </div>
                <div class="alerts-container" id="alertsContainer">
                    <!-- Alerts will be dynamically inserted here -->
                </div>
            </div>

            <!-- Actions View -->
            <div id="actions-view" class="view">
                <div class="view-header">
                    <h2>Recommended Actions</h2>
                    <div class="action-filters">
                        <select class="action-filter">
                            <option value="all">All Actions</option>
                            <option value="exit">Exit Positions</option>
                            <option value="trim">Trim Positions</option>
                            <option value="hedge">Hedging</option>
                            <option value="add">Add to Position</option>
                        </select>
                    </div>
                </div>
                <div class="actions-list" id="actionsList">
                    <!-- Action recommendations will be dynamically inserted here -->
                </div>
            </div>

            <!-- Monitoring View -->
            <div id="monitoring-view" class="view">
                <div class="view-header">
                    <h2>Smart Monitoring Agents</h2>
                </div>
                <div class="monitoring-grid" id="monitoringGrid">
                    <!-- Monitoring status will be dynamically inserted here -->
                </div>
            </div>

            <!-- Heatmap View -->
            <div id="heatmap-view" class="view">
                <div class="view-header">
                    <h2>Portfolio Heatmap</h2>
                    <div class="heatmap-controls">
                        <select class="heatmap-size">
                            <option value="position">Size by Position</option>
                            <option value="risk">Size by Risk</option>
                            <option value="equal">Equal Size</option>
                        </select>
                        <select class="heatmap-group">
                            <option value="sector">Group by Sector</option>
                            <option value="strategy">Group by Strategy</option>
                            <option value="health">Group by Health</option>
                        </select>
                    </div>
                </div>
                <div class="heatmap-container" id="heatmapContainer">
                    <!-- Heatmap will be dynamically generated here -->
                </div>
            </div>

            <!-- Daily Summary View -->
            <div id="daily-summary-view" class="view">
                <div class="view-header">
                    <h2>Daily Summary</h2>
                    <div class="summary-date">
                        <span id="marketCloseTime">Market Close: 16:00:00 EST</span>
                    </div>
                </div>
                <div class="daily-summary-container" id="dailySummaryContainer">
                    <!-- Daily summary content will be dynamically inserted here -->
                </div>
            </div>

            <!-- Stock Detail Page -->
            <div id="stock-detail-view" class="view">
                <div class="stock-detail-header">
                    <button class="back-button" id="backButton">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Back to Portfolio
                    </button>
                    <div class="stock-header-info">
                        <h1 class="stock-title" id="stockTitle">AAPL</h1>
                        <div class="stock-company" id="stockCompany">Apple Inc.</div>
                    </div>
                </div>
                
                <div class="stock-detail-content" id="stockDetailContent">
                    <!-- Stock detail content will be dynamically inserted here -->
                </div>
            </div>
        </main>

        <!-- Side Panel for Details -->
        <aside class="side-panel" id="sidePanel">
            <div class="panel-header">
                <h3 id="panelTitle">Position Details</h3>
                <button class="close-panel" id="closePanelBtn">&times;</button>
            </div>
            <div class="panel-content" id="panelContent">
                <!-- Dynamic content will be inserted here -->
            </div>
        </aside>
    </div>

    <!-- Modal for Adding/Editing Positions -->
    <div id="positionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Add New Position</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="positionForm" class="position-form">
                <div class="form-section">
                    <h4>Basic Information</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="ticker">Ticker Symbol</label>
                            <input type="text" id="ticker" name="ticker" required placeholder="AAPL">
                        </div>
                        <div class="form-group">
                            <label for="company">Company Name</label>
                            <input type="text" id="company" name="company" required placeholder="Apple Inc.">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="positionSize">Position Size ($M)</label>
                            <input type="number" id="positionSize" name="positionSize" step="0.1" required placeholder="10.5">
                        </div>
                        <div class="form-group">
                            <label for="sector">Sector</label>
                            <select id="sector" name="sector" required>
                                <option value="">Select sector</option>
                                <option value="tech">Technology</option>
                                <option value="finance">Finance</option>
                                <option value="healthcare">Healthcare</option>
                                <option value="consumer">Consumer</option>
                                <option value="energy">Energy</option>
                                <option value="industrial">Industrial</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Investment Thesis Drivers</h4>
                    <p class="form-hint">Define 3-5 core drivers that support your investment thesis</p>
                    <div id="thesisDrivers" class="thesis-drivers">
                        <div class="thesis-driver">
                            <input type="text" class="driver-input" placeholder="e.g., Revenue growth >20% YoY" required>
                            <select class="driver-type">
                                <option value="financial">Financial</option>
                                <option value="operational">Operational</option>
                                <option value="market">Market</option>
                                <option value="macro">Macro</option>
                            </select>
                        </div>
                    </div>
                    <button type="button" class="btn-secondary" id="addDriverBtn">+ Add Driver</button>
                </div>

                <div class="form-section">
                    <h4>Risk Triggers</h4>
                    <p class="form-hint">Define conditions that would invalidate your thesis</p>
                    <div id="riskTriggers" class="risk-triggers">
                        <div class="risk-trigger">
                            <input type="text" class="trigger-input" placeholder="e.g., Oil price > $100/barrel">
                            <select class="trigger-severity">
                                <option value="warning">Warning</option>
                                <option value="critical">Critical</option>
                            </select>
                        </div>
                    </div>
                    <button type="button" class="btn-secondary" id="addTriggerBtn">+ Add Trigger</button>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelBtn">Cancel</button>
                    <button type="submit" class="btn-primary">Save Position</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="script.js"></script>
</body>
</html>